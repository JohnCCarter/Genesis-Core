{
  "cfg": {
    "thresholds": {
      "entry_conf_overall": 0.32,
      "regime_proba": {
        "ranging": 0.68,
        "bull": 0.6,
        "bear": 0.6,
        "balanced": 0.65
      },
      "signal_adaptation": {
        "atr_period": 14,
        "zones": {
          "low": {
            "entry_conf_overall": 0.32,
            "regime_proba": {
              "ranging": 0.65,
              "bull": 0.55,
              "bear": 0.55,
              "balanced": 0.65
            }
          },
          "mid": {
            "entry_conf_overall": 0.38,
            "regime_proba": {
              "ranging": 0.7,
              "bull": 0.6,
              "bear": 0.6,
              "balanced": 0.7
            }
          },
          "high": {
            "entry_conf_overall": 0.44,
            "regime_proba": {
              "ranging": 0.78,
              "bull": 0.68,
              "bear": 0.68,
              "balanced": 0.78
            }
          }
        }
      }
    },
    "risk": {
      "risk_map": [
        [0.45, 0.015],
        [0.55, 0.025],
        [0.65, 0.035]
      ]
    },
    "exit": {
      "enabled": true,
      "exit_conf_threshold": 0.4,
      "max_hold_bars": 20,
      "regime_aware_exits": true
    },
    "gates": {
      "cooldown_bars": 2,
      "hysteresis_steps": 3
    },
    "htf_exit_config": {
      "enable_partials": true,
      "enable_trailing": true,
      "enable_structure_breaks": true,
      "partial_1_pct": 0.6,
      "partial_2_pct": 0.5,
      "fib_threshold_atr": 0.8,
      "trail_atr_multiplier": 2.3,
      "swing_update_strategy": "fixed"
    },
    "warmup_bars": 150,
    "ltf_fib": {
      "entry": {
        "enabled": true,
        "tolerance_atr": 0.55,
        "long_max_level": 0.618,
        "short_min_level": 0.382
      }
    },
    "htf_fib": {
      "entry": {
        "enabled": true,
        "tolerance_atr": 0.55,
        "long_max_level": 0.618,
        "short_min_level": 0.382
      }
    },
    "multi_timeframe": {
      "use_htf_block": true,
      "allow_ltf_override": false,
      "ltf_override_adaptive": {
        "enabled": true,
        "window": 180,
        "percentile": 0.85,
        "min_history": 120,
        "min_floor": 0.5,
        "max_ceiling": 0.95,
        "fallback_threshold": 0.9,
        "regime_multipliers": {
          "bull": 0.95,
          "bear": 1.05
        }
      }
    }
  }
}
