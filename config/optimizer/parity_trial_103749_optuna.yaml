meta:
  symbol: tBTCUSD
  timeframe: 1h
  snapshot_id: tBTCUSD_1h_2023-12-01_2025-11-19_v1
  warmup_bars: 150
  runs:
    strategy: optuna
    max_trials: 1
    max_concurrent: 1
    resume: false
    use_sample_range: true
    sample_start: 2023-12-01
    sample_end: 2025-11-19
    optuna:
      storage: sqlite:///results/hparam_search/storage/optuna_parity_trial_103749_v2.db
      study_name: parity_trial_103749_v2
      bootstrap_random_trials: 0
      bootstrap_seed: 42
      sampler:
        name: tpe
        kwargs:
          seed: 42
      pruner:
        name: none
        kwargs: {}
      timeout_seconds: 1800

constraints:
  min_trades: 1
  min_profit_factor: 0.0
  max_max_dd: 1.0
  include_scoring_failures: false

parameters:
  thresholds.entry_conf_overall: { type: fixed, value: 0.05894561540715697 }
  thresholds.regime_proba.balanced: { type: fixed, value: 0.4495378912434402 }
  thresholds.regime_proba.bear: { type: fixed, value: 0.5620087740707684 }
  thresholds.regime_proba.bull: { type: fixed, value: 0.4206103636547791 }
  thresholds.regime_proba.ranging: { type: fixed, value: 0.726224895316513 }
  thresholds.min_edge: { type: fixed, value: 0.008050723779691172 }

  thresholds.signal_adaptation.atr_period: { type: fixed, value: 8 }
  thresholds.signal_adaptation.zones.low.entry_conf_overall:
    { type: fixed, value: 0.08333136648384655 }
  thresholds.signal_adaptation.zones.mid.entry_conf_overall:
    { type: fixed, value: 0.2114560902701807 }
  thresholds.signal_adaptation.zones.high.entry_conf_overall:
    { type: fixed, value: 0.2899749833869953 }
  thresholds.signal_adaptation.zones.low.regime_proba.balanced:
    { type: fixed, value: 0.46 }
  thresholds.signal_adaptation.zones.low.regime_proba.bear:
    { type: fixed, value: 0.42 }
  thresholds.signal_adaptation.zones.low.regime_proba.bull:
    { type: fixed, value: 0.42 }
  thresholds.signal_adaptation.zones.low.regime_proba.ranging:
    { type: fixed, value: 0.47 }
  thresholds.signal_adaptation.zones.mid.regime_proba.balanced:
    { type: fixed, value: 0.5 }
  thresholds.signal_adaptation.zones.mid.regime_proba.bear:
    { type: fixed, value: 0.46 }
  thresholds.signal_adaptation.zones.mid.regime_proba.bull:
    { type: fixed, value: 0.46 }
  thresholds.signal_adaptation.zones.mid.regime_proba.ranging:
    { type: fixed, value: 0.5 }
  thresholds.signal_adaptation.zones.high.regime_proba.balanced:
    { type: fixed, value: 0.55 }
  thresholds.signal_adaptation.zones.high.regime_proba.bear:
    { type: fixed, value: 0.5 }
  thresholds.signal_adaptation.zones.high.regime_proba.bull:
    { type: fixed, value: 0.5 }
  thresholds.signal_adaptation.zones.high.regime_proba.ranging:
    { type: fixed, value: 0.55 }

  gates.hysteresis_steps: { type: fixed, value: 3 }
  gates.cooldown_bars: { type: fixed, value: 2 }

  risk.risk_map:
    {
      type: fixed,
      value: [[0.409332, 0.018816], [0.574632, 0.018816], [0.601499, 0.074146]],
    }

  ev.R_default: { type: fixed, value: 1.8 }

  exit.enabled: { type: fixed, value: true }
  exit.max_hold_bars: { type: fixed, value: 52 }
  exit.stop_loss_pct: { type: fixed, value: 0.02 }
  exit.take_profit_pct: { type: fixed, value: 0.05 }
  exit.exit_conf_threshold: { type: fixed, value: 0.44020305491235595 }
  exit.regime_aware_exits: { type: fixed, value: true }
  exit.trailing_stop_enabled: { type: fixed, value: false }
  exit.trailing_stop_pct: { type: fixed, value: 0.04176635480357512 }

  multi_timeframe.use_htf_block: { type: fixed, value: true }
  multi_timeframe.allow_ltf_override: { type: fixed, value: true }
  multi_timeframe.ltf_override_threshold:
    { type: fixed, value: 0.6940133108469355 }
  multi_timeframe.ltf_override_adaptive.enabled: { type: fixed, value: true }
  multi_timeframe.ltf_override_adaptive.window: { type: fixed, value: 120 }
  multi_timeframe.ltf_override_adaptive.percentile: { type: fixed, value: 0.85 }
  multi_timeframe.ltf_override_adaptive.min_history: { type: fixed, value: 30 }
  multi_timeframe.htf_selector.mode: { type: fixed, value: fixed }
  multi_timeframe.htf_selector.fallback_timeframe: { type: fixed, value: 1D }
  multi_timeframe.htf_selector.per_timeframe.1h.multiplier:
    { type: fixed, value: 6.0 }
  multi_timeframe.htf_selector.per_timeframe.6h.timeframe:
    { type: fixed, value: 1D }

  htf_exit_config.enable_partials: { type: fixed, value: true }
  htf_exit_config.enable_trailing: { type: fixed, value: true }
  htf_exit_config.enable_structure_breaks: { type: fixed, value: true }
  htf_exit_config.partial_1_pct: { type: fixed, value: 0.503774530930537 }
  htf_exit_config.partial_2_pct: { type: fixed, value: 0.5565145193468478 }
  htf_exit_config.fib_threshold_atr: { type: fixed, value: 0.670237544451155 }
  htf_exit_config.trail_atr_multiplier:
    { type: fixed, value: 3.2273139776506454 }
  htf_exit_config.swing_update_strategy: { type: fixed, value: fixed }

  htf_fib.entry.enabled: { type: fixed, value: true }
  htf_fib.entry.tolerance_atr: { type: fixed, value: 1.5120084492498944 }
  htf_fib.entry.long_max_level: { type: fixed, value: 0.2 }
  htf_fib.entry.short_min_level: { type: fixed, value: -0.146 }

  ltf_fib.entry.enabled: { type: fixed, value: true }
  ltf_fib.entry.tolerance_atr: { type: fixed, value: 1.880711174562089 }
  ltf_fib.entry.long_max_level: { type: fixed, value: 0.2 }
  ltf_fib.entry.short_min_level: { type: fixed, value: -0.25 }
