meta:
  symbol: tBTCUSD
  timeframe: 1h
  snapshot_id: tBTCUSD_1h_2024-10-22_2025-10-01_v1
  warmup_bars: 150
  runs:
    strategy: optuna
    resume: false
    max_trials: 100
    max_concurrent: 2
    use_sample_range: true
    sample_start: "2024-10-22"
    sample_end: "2025-10-01"
    optuna:
      storage: sqlite:///results/hparam_search/storage/optuna_smoke_20251110_150057.db
      study_name: smoke_20251110_150057
      sampler:
        name: tpe
        kwargs:
          n_startup_trials: 15
          n_ei_candidates: 64
          constant_liar: true
          multivariate: true
      pruner:
        name: median
        kwargs: {}
      heartbeat_interval: 60
      heartbeat_grace_period: 180
      timeout_seconds: 7200

parameters:
  thresholds:
    entry_conf_overall:
      type: fixed
      value: 0.35
    signal_adaptation:
      type: fixed
      value:
        atr_period: 14
        zones:
          low:
            entry_conf_overall: 0.36
            regime_proba:
              ranging: 0.7
              bull: 0.6
              bear: 0.6
              balanced: 0.7
          mid:
            entry_conf_overall: 0.42
            regime_proba:
              ranging: 0.8
              bull: 0.7
              bear: 0.7
              balanced: 0.8
          high:
            entry_conf_overall: 0.48
            regime_proba:
              ranging: 0.88
              bull: 0.78
              bear: 0.78
              balanced: 0.88
  risk:
    risk_map:
      type: fixed
      value:
        - [0.45, 0.015]
        - [0.55, 0.025]
        - [0.65, 0.035]
  exit:
    exit_conf_threshold:
      type: fixed
      value: 0.4
    max_hold_bars:
      type: fixed
      value: 20
  htf_exit_config:
    enable_partials:
      type: fixed
      value: true
    enable_trailing:
      type: fixed
      value: true
    enable_structure_breaks:
      type: fixed
      value: true
    partial_1_pct:
      type: fixed
      value: 0.6
    partial_2_pct:
      type: fixed
      value: 0.5
    fib_threshold_atr:
      type: fixed
      value: 0.7
    trail_atr_multiplier:
      type: fixed
      value: 2.5

# Relaxed external constraints (scoring still applies internal thresholds)
constraints:
  min_trades: 0
  min_profit_factor: 0.0
  max_max_dd: 1.0
