meta:
  description: Mode enforcement smoke test
  version: 1.0.0

optimization:
  study_name: mode_test_smoke
  storage: results/hparam_search/storage/mode_test_smoke.db
  resume: false
  max_trials: 5
  timeout_seconds: 600
  
  sampler:
    type: random
  
  constraints:
    min_trades: 10
    min_profit_factor: 0.5
    max_max_dd: 0.50
    include_scoring_failures: false

backtest:
  symbol: tBTCUSD
  timeframe: 1h
  start_date: 2024-06-01
  end_date: 2024-08-01
  capital: 10000.0
  warmup_bars: 150

parameters:
  thresholds:
    entry_conf_overall:
      type: float
      low: 0.05
      high: 0.15
    
  signal_adaptation:
    zones:
      low:
        entry:
          type: float
          low: 0.10
          high: 0.20
        regime:
          type: float
          low: 0.35
          high: 0.50
      mid:
        entry:
          type: float
          low: 0.20
          high: 0.35
        regime:
          type: float
          low: 0.40
          high: 0.60
      high:
        entry:
          type: float
          low: 0.30
          high: 0.45
        regime:
          type: float
          low: 0.45
          high: 0.65
  
  risk:
    risk_map:
      type: grid
      values:
        - [[0.40, 0.010], [0.50, 0.020], [0.60, 0.030]]
        - [[0.45, 0.015], [0.55, 0.025], [0.65, 0.035]]
        - [[0.50, 0.020], [0.60, 0.030], [0.70, 0.040]]
