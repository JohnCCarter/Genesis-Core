meta:
  description: Optimization of HTF Fibonacci Exits
  version: 1.0.0
  symbol: tBTCUSD
  timeframe: 30m
  snapshot_id: "" # Explicitly empty to avoid lookup but satisfy existence?

optimization:
  study_name: htf_exit_opt_v1
  storage: sqlite:///results/hparam_search/storage/htf_exit_opt.db
  resume: false
  max_trials: 50
  timeout_seconds: 3600
  n_jobs: 1

  sampler:
    type: tpe
    seed: 42

  constraints:
    min_trades: 5
    min_profit_factor: 1.0
    max_max_dd: 0.30
    include_scoring_failures: false

backtest:
  # This section is likely ignored by runner.py but kept for documentation
  symbol: tBTCUSD
  timeframe: 30m
  start_date: 2024-02-01
  end_date: 2024-06-01
  capital: 10000.0
  warmup_bars: 200

parameters:
  # Enable HTF Exits
  exit:
    enabled:
      type: categorical
      choices: [true]

  thresholds:
    entry_conf_overall:
      type: float
      low: 0.60
      high: 0.80

  htf_fib:
    exit:
      partial_1_pct:
        type: float
        low: 0.2
        high: 0.5
        step: 0.05
      partial_2_pct:
        type: float
        low: 0.2
        high: 0.5
        step: 0.05
      fib_threshold_atr:
        type: float
        low: 0.1
        high: 0.5
        step: 0.1
      trail_atr_multiplier:
        type: float
        low: 1.0
        high: 3.0
        step: 0.5
